let answers = [{
    "A211": "Hardly ever",
    "A212": "Hardly ever",
    "A213": "Hardly ever",
    "A221": "Hardly ever",
    "A222": "Rarely",
    "A223": "Sometimes",
    "A231": "Hardly ever",
    "A232": "Hardly ever",
    "A233": "Almost Always",
    "A241": "Usually",
    "A242": "Often",
    "A243": "Often",
    "A251": "Almost Always",
    "A252": "Almost Always",
    "A253": "Almost Always",
    "A261": "Usually",
    "A262": "Usually",
    "A263": "Usually",
    "Created Date": 1613553721746,
    "Created By": "1610719086133x821289346243953900",
    "Modified Date": 1617465641218,
    "B111": "0",
    "B141": "2",
    "B121": "5",
    "B131": "2",
    "B151": "2",
    
    "A112": "Almost Always",
    "A113": "Often",
    "A114": "Often",
    "A115": "Rarely",
    "A116": "Almost Always",
    "A121": "Sometimes",
    "A122": "Usually",
    "A123": "Rarely",
    "A124": "Rarely",
    "A125": "Almost Always",
    "A126": "Sometimes",
    "A131": "Often",
    "A132": "Sometimes",
    "A133": "Sometimes",
    "A134": "Rarely",
    "A135": "Sometimes",
    "A136": "Often",
    "A141": "Often",
    "A142": "Usually",
    "A143": "Sometimes",
    "A144": "Rarely",
    "A145": "Sometimes",
    "A146": "Hardly ever",
    "A151": "Hardly ever",
    "A152": "Rarely",
    "A153": "Hardly ever",
    "A154": "Sometimes",
    "A155": "Usually",
    "A156": "Often",
    "A161": "Often",
    "A162": "Almost Always",
    "A163": "Almost Always",
    "A164": "Sometimes",
    "A165": "Often",
    "A166": "Rarely",
    "B112": "1",
    "B122": "4",
    "B132": "5",
    "B142": "5",
    "B152": "5",
    "C111": "Somewhat Agree",
    "C112": "Strongly disagree",
    "C113": "Disagree",
    "C121": "Somewhat Agree",
    "C122": "Somewhat Agree",
    "C123": "Disagree",
    "C131": "Agree",
    "C132": "Somewhat disagree",
    "C141": "Somewhat Agree",
    "C142": "Strongly disagree",
    "C151": "Somewhat Agree",
    "C152": "Strongly Agree",
    "C161": "Somewhat disagree",
    "C162": "Agree",
    "D110": [
        "Caring",
        "Critical Thinking",
        "Fairness",
        "Gratitude",
        "Humility"
    ],
    "D120": [
        "Caring",
        "Critical Thinking",
        "Fairness",
        "Gratitude",
        "Humility"
    ],
    "E111": "Strongly disagree",
    "E112": "Somewhat disagree",
    "E113": "Somewhat disagree",
    "E114": "Somewhat disagree",
    "E115": "Agree",
    "E121": "Somewhat disagree",
    "E122": "Strongly Agree",
    "E123": "Somewhat Agree",
    "E124": "Somewhat Agree",
    "E125": "Somewhat Agree",
    "E131": "Strongly Agree",
    "E132": "Strongly disagree",
    "E133": "Somewhat disagree",
    "E134": "Strongly Agree",
    "E135": "Agree",
    "F111": "Hardly ever",
    "F112": "Rarely",
    
    "F121": "Rarely",
    "F122": "Rarely",
    "F123": "Almost Always",
    "F131": "Rarely",
    "F132": "Often",
    "F133": "Sometimes",
    "_id": "1613553721724x151922543420274240",
    "_type": "custom.respondent"
},
{
    "A211": "Almost Always",
    "A212": "Sometimes",
    "A213": "Usually",
    "A221": "Often",
    "A222": "Often",
    "A223": "Usually",
    "A231": "Sometimes",
    "A232": "Rarely",
    "A233": "Rarely",
    "A241": "Often",
    "A242": "Usually",
    "A243": "Sometimes",
    "A251": "Hardly ever",
    "A252": "Rarely",
    "A253": "Sometimes",
    "A261": "Sometimes",
    "A262": "Usually",
    "A263": "Hardly ever",
    "Created Date": 1617603718093,
    "Created By": "1610719086133x821289346243953900",
    "Modified Date": 1617603803389,
    "B111": "3",
    "B141": "3",
    "B121": "4",
    "B131": "2",
    "B151": "1",
    "A111": "Almost Always",
    "A112": "Usually",
    "A113": "Sometimes",
    "A114": "Sometimes",
    "A115": "Almost Always",
    "A116": "Often",
    "A121": "Almost Always",
    "A122": "Sometimes",
    "A123": "Sometimes",
    "A124": "Sometimes",
    "A125": "Often",
    "A126": "Hardly ever",
    "A131": "Almost Always",
    "A132": "Rarely",
    "A133": "Rarely",
    "A134": "Rarely",
    "A135": "Rarely",
    "A136": "Hardly ever",
    "A141": "Sometimes",
    "A142": "Hardly ever",
    "A143": "Often",
    "A144": "Usually",
    "A145": "Often",
    "A146": "Hardly ever",
    "A151": "Sometimes",
    "A152": "Rarely",
    "A153": "Almost Always",
    "A154": "Almost Always",
    "A155": "Often",
    "A156": "Almost Always",
    "A161": "Almost Always",
    "A162": "Almost Always",
    "A163": "Rarely",
    "A164": "Rarely",
    "A165": "Usually",
    "A166": "Hardly ever",
    "B112": "3",
    "B122": "4",
    "B132": "5",
    "B142": "5",
    "B152": "3",
    "C111": "Agree",
    "C112": "Disagree",
    "C113": "Strongly disagree",
    "C121": "Agree",
    "C122": "Strongly Agree",
    "C123": "Strongly disagree",
    "C131": "Strongly Agree",
    "C132": "Agree",
    "C141": "Disagree",
    "C142": "Agree",
    "C151": "Strongly Agree",
    "C152": "Strongly Agree",
    "C161": "Somewhat disagree",
    "C162": "Strongly Agree",
    "D110": [
        "Kindness",
        "Caring",
        "Self Regulation",
        "Creativity",
        "Teamwork"
    ],
    "D120": [
        "Teamwork",
        "Kindness",
        "Humor",
        "Forgiveness",
        "Kindness"
    ],
    "E111": "Agree",
    "E112": "Somewhat disagree",
    "E113": "Strongly disagree",
    "E114": "Strongly Agree",
    "E115": "Disagree",
    "E121": "Somewhat disagree",
    "E122": "Somewhat disagree",
    "E123": "Disagree",
    "E124": "Strongly disagree",
    "E125": "Agree",
    "E131": "Somewhat Agree",
    "E132": "Somewhat Agree",
    "E133": "Somewhat disagree",
    "E134": "Strongly disagree",
    "E135": "Somewhat disagree",
    "F111": "Sometimes",
    "F112": "Hardly ever",
    "F113": "Rarely",
    "F121": "Hardly ever",
    "F122": "Sometimes",
    "F123": "Sometimes",
    "F131": "Hardly ever",
    "F132": "Hardly ever",
    "F133": "Sometimes",
    "_id": "1617603717556x455297531539882000",
    "_type": "custom.respondent"
}
]

console.log(BubbleToGS(answers))
function BubbleToGS(answers){
answers = answers.map(item=>{
    delete item['_type']
    delete item['Modified Date']
    delete item['Created By']
    item['1_created']=item['Created Date']
    item['1_id']=item['_id']
    delete item['_id']
    delete item['Created Date']
    var ordered = Object.keys(item).sort().reduce(
        (obj, key) => { 
          obj[key] = item[key]; 
          return obj;
        }, 
        {}
      );

     
          return ordered
})
 
function ImportJSONAdvancedMine(url, fetchOptions, query, parseOptions, includeFunc, transformFunc) {
    var object   = url//JSON.parse(jsondata.getContentText());
    
    return parseJSONObject_(object, query, parseOptions, includeFunc, transformFunc);
  }

  function ImportJSONmine(url, query, parseOptions) {
    return ImportJSONAdvancedMine(url, null, query, parseOptions, includeXPath_, defaultTransform_);
  } 

  function parseJSONObject_(object, query, options, includeFunc, transformFunc) {
    var headers = new Array();
    var data    = new Array();
    
    if (query && !Array.isArray(query) && query.toString().indexOf(",") != -1) {
      query = query.toString().split(",");
    }
  
    // Prepopulate the headers to lock in their order
    if (hasOption_(options, "allHeaders") && Array.isArray(query))
    {
      for (var i = 0; i < query.length; i++)
      {
        headers[query[i]] = Object.keys(headers).length;
      }
    }
    
    if (options) {
      options = options.toString().split(",");
    }
      
    parseData_(headers, data, "", {rowIndex: 1}, object, query, options, includeFunc);
    parseHeaders_(headers, data);
    transformData_(data, options, transformFunc);
    
    return hasOption_(options, "noHeaders") ? (data.length > 1 ? data.slice(1) : new Array()) : data;
  }
  
  
  function parseData_(headers, data, path, state, value, query, options, includeFunc) {
    var dataInserted = false;
  
    if (Array.isArray(value) && isObjectArray_(value)) {
      for (var i = 0; i < value.length; i++) {
        if (parseData_(headers, data, path, state, value[i], query, options, includeFunc)) {
          dataInserted = true;
  
          if (data[state.rowIndex]) {
            state.rowIndex++;
          }
        }
      }
    } else if (isObject_(value)) {
      for (key in value) {
        if (parseData_(headers, data, path + "/" + key, state, value[key], query, options, includeFunc)) {
          dataInserted = true; 
        }
      }
    } else if (!includeFunc || includeFunc(query, path, options)) {
      // Handle arrays containing only scalar values
      if (Array.isArray(value)) {
        value = value.join(); 
      }
      
      // Insert new row if one doesn't already exist
      if (!data[state.rowIndex]) {
        data[state.rowIndex] = new Array();
      }
      
      // Add a new header if one doesn't exist
      if (!headers[path] && headers[path] != 0) {
        headers[path] = Object.keys(headers).length;
      }
      
      // Insert the data
      data[state.rowIndex][headers[path]] = value;
      dataInserted = true;
    }
    
    return dataInserted;
  }

  function parseHeaders_(headers, data) {
    data[0] = new Array();
  
    for (key in headers) {
      data[0][headers[key]] = key;
    }
  }
  

  function transformData_(data, options, transformFunc) {
    for (var i = 0; i < data.length; i++) {
      for (var j = 0; j < data[0].length; j++) {
        transformFunc(data, i, j, options);
      }
    }
  }

  function isObject_(test) {
    return Object.prototype.toString.call(test) === '[object Object]';
  }
  

  function isObjectArray_(test) {
    for (var i = 0; i < test.length; i++) {
      if (isObject_(test[i])) {
        return true; 
      }
    }  
  
    return false;
  }

  function includeXPath_(query, path, options) {
    if (!query) {
      return true; 
    } else if (Array.isArray(query)) {
      for (var i = 0; i < query.length; i++) {
        if (applyXPathRule_(query[i], path, options)) {
          return true; 
        }
      }  
    } else {
      return applyXPathRule_(query, path, options);
    }
    
    return false; 
  };
  

  function applyXPathRule_(rule, path, options) {
    return path.indexOf(rule) == 0; 
  }
  

  function defaultTransform_(data, row, column, options) {
    if (data[row][column] == null) {
      if (row < 2 || hasOption_(options, "noInherit")) {
        data[row][column] = "";
      } else {
        data[row][column] = data[row-1][column];
      }
    } 
  
    if (!hasOption_(options, "rawHeaders") && row == 0) {
      if (column == 0 && data[row].length > 1) {
        removeCommonPrefixes_(data, row);  
      }
      
      data[row][column] = toTitleCase_(data[row][column].toString().replace(/[\/\_]/g, " "));
    }
    
    if (!hasOption_(options, "noTruncate") && data[row][column]) {
      data[row][column] = data[row][column].toString().substr(0, 256);
    }
  
    if (hasOption_(options, "debugLocation")) {
      data[row][column] = "[" + row + "," + column + "]" + data[row][column];
    }
  }

  function removeCommonPrefixes_(data, row) {
    var matchIndex = data[row][0].length;
  
    for (var i = 1; i < data[row].length; i++) {
      matchIndex = findEqualityEndpoint_(data[row][i-1], data[row][i], matchIndex);
  
      if (matchIndex == 0) {
        return;
      }
    }
    
    for (var i = 0; i < data[row].length; i++) {
      data[row][i] = data[row][i].substring(matchIndex, data[row][i].length);
    }
  }
  
 
  function findEqualityEndpoint_(string1, string2, stopAt) {
    if (!string1 || !string2) {
      return -1; 
    }
    
    var maxEndpoint = Math.min(stopAt, string1.length, string2.length);
    
    for (var i = 0; i < maxEndpoint; i++) {
      if (string1.charAt(i) != string2.charAt(i)) {
        return i;
      }
    }
    
    return maxEndpoint;
  }
  function toTitleCase_(text) {
    if (text == null) {
      return null;
    }
    
    return text.replace(/\w\S*/g, function(word) { return word.charAt(0).toUpperCase() + word.substr(1).toLowerCase(); });
  }
 
  function hasOption_(options, option) {
    return options && options.indexOf(option) >= 0;
  }
  



//return JSON.stringify({values:ImportJSONmine(answers)})//


return ImportJSONmine(answers)

}

